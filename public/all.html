<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">

<body>
  <h1>Data Selfie App</h1>

  <script>

    getData()

    async function getData(){
      const response = await fetch('/api')
      const data = await response.json()

      data.forEach(element => {
        console.log(element.tag)

        const root = document.createElement('div')
        
        const tag = document.createElement('div')
        tag.textContent = "Tag: " + element.tag;
        
        const longlat = document.createElement('div')
        longlat.textContent = "Longitude: " + element.longitude + ", Latitude:" + element.latitude;
        
        const timestamp = document.createElement('div')
        const dateString = new Date(element.timestamp).toLocaleString()
        timestamp.textContent = "Tag: " + dateString;

        root.append(tag, longlat, timestamp)
        document.body.append(root)
      });

    }

  </script>

</body>

</html>